<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base-path" content="{{basePath}}">
    <title>{{title}} - Sun Gym</title>
    <!-- Always load main.css first -->
    <link rel="stylesheet" href="{{basePath}}/css/main.css">
    {{#if customCSS}}
    <link rel="stylesheet" href="{{basePath}}/css/{{customCSS}}.css">
    {{/if}}
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-brand">
            <a href="{{basePath}}">Sun Gym</a>
        </div>
        <div class="nav-menu">
            <div class="nav-section">
                <h3>Primary Tables</h3>
                <a href="{{basePath}}/members">Members</a>
                <a href="{{basePath}}/trainers">Trainers</a>
                <a href="{{basePath}}/classes">Classes</a>
                <a href="{{basePath}}/equipment">Equipment</a>
                <a href="{{basePath}}/payments">Payments</a>
            </div>
            <div class="nav-section">
                <h3>Relationships</h3>
                <a href="{{basePath}}/member-equipment">Member-Equipment</a>
                <a href="{{basePath}}/class-bookings">Class-Bookings</a>
                <a href="{{basePath}}/member-trainer">Member-Trainer</a>
                <a href="{{basePath}}/trainer-equipment">Trainer-Equipment</a>
            </div>
        </div>
        <button class="nav-toggle">
            <span class="hamburger"></span>
        </button>
    </nav>

    <!-- Main Content -->
    <main class="content">
        {{{body}}}
    </main>

    <!-- Load notifications.js first -->
    <script src="{{basePath}}/js/notifications.js"></script>
    
    <!-- Then load page-specific JS -->
    {{#if customJS}}
    <script src="{{basePath}}/js/{{customJS}}.js"></script>
    {{/if}}

    <!-- Navigation JavaScript -->
    <script>
        document.querySelector('.nav-toggle').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
            this.classList.toggle('active');
        });
    </script>
</body>
</html>
